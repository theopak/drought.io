"use strict";angular.module("droughtioApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","angular-rickshaw"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("droughtioApp").controller("MainCtrl",["$scope","$http",function(a,b){a.zip="12180",a.chartOptions={renderer:"area",interpolation:"step-after",stack:"false"},a.chartFeatures={hover:{xFormatter:function(a){var b=new Date(a);return b.toDateString()},yFormatter:function(a){return a+" in"}}},a.series=[{name:"Series 1",color:"steelblue",data:[{x:Date.parse("2012-01-01T00:00:00"),y:0},{x:Date.parse("2012-01-02T00:00:00"),y:0},{x:Date.parse("2012-01-03T00:00:00"),y:0},{x:Date.parse("2012-01-04T00:00:00"),y:0},{x:Date.parse("2012-01-05T00:00:00"),y:0},{x:Date.parse("2012-01-06T00:00:00"),y:0},{x:Date.parse("2012-01-07T00:00:00"),y:0},{x:Date.parse("2012-01-08T00:00:00"),y:0},{x:Date.parse("2012-01-09T00:00:00"),y:0},{x:Date.parse("2012-01-10T00:00:00"),y:0},{x:Date.parse("2012-01-11T00:00:00"),y:0},{x:Date.parse("2012-01-12T00:00:00"),y:86},{x:Date.parse("2012-01-13T00:00:00"),y:137},{x:Date.parse("2012-01-14T00:00:00"),y:142},{x:Date.parse("2012-01-15T00:00:00"),y:142},{x:Date.parse("2012-01-16T00:00:00"),y:142},{x:Date.parse("2012-01-17T00:00:00"),y:157},{x:Date.parse("2012-01-18T00:00:00"),y:198},{x:Date.parse("2012-01-19T00:00:00"),y:198},{x:Date.parse("2012-01-22T00:00:00"),y:198},{x:Date.parse("2012-01-20T00:00:00"),y:198},{x:Date.parse("2012-01-21T00:00:00"),y:198},{x:Date.parse("2012-01-23T00:00:00"),y:198},{x:Date.parse("2012-01-24T00:00:00"),y:234},{x:Date.parse("2012-01-25T00:00:00"),y:234}]}];var c=function(a){console.log(a);var b=[],c=0;return angular.forEach(a.results,function(a,d){console.log("data point:",d,a),b.push({x:Date.parse(a.date),y:c+=a.value})}),console.log(b),b};a.getNormalsData=function(){b({method:"GET",headers:{Accept:"application/json",token:"kjslmSNkMbvnPHEMUqxlAiKcBlpERRzr"},url:"http://www.ncdc.noaa.gov/cdo-web/api/v2/data?datasetid=GHCND&datatypeid=PRCP&startdate=2012-01-01&enddate=2012-12-30&locationid=ZIP:"+a.zip}).success(function(b){a.series.push({name:b.results[0].station,color:"red",data:c(b)}),console.log(a.series),a.error=""}).error(function(b,c){a.error="Error: "+c})}}]),angular.module("droughtioApp").controller("AboutCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]);